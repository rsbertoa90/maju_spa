webpackJsonp([7],{"8ytn":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={computed:{list:function(){return this.$store.getters.getList},total:function(){return this.$store.getters.getTotal},states:function(){return this.$store.getters.getStates},configs:function(){return this.$store.getters.getConfig},user:function(){return this.$store.getters.getUser}},data:function(){return{state:null,cities:[],loading:!1,formData:{name:"",seller:"",message:"",phone:"",email:"",shipping:!0,city:null,address:"",transport:"",cp:""}}},methods:{minBuy:function(){if(this.configs)return this.formData.shipping?this.configs.minbuy_ship:this.configs.minbuy},validateEmail:function(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())},formValid:function(){return this.formData.shipping&&!this.formData.city?(swal("Por favor selecciones una localidad ","","error"),!1):this.formData.name&&""!=this.formData.name.trim()?this.validateEmail(this.formData.email)?this.formData.email.length<4?(swal("Hay algo mal con el mail","","error"),!1):this.list.length<=0?(swal("No hay productos seleccionados","","error"),!1):!(this.total<this.minBuy())||(swal("El minimo de compra es de $"+this.minBuy(),"","error"),!1):(swal("Hay algo mal con el mail","","error"),!1):(swal('El campo "Nombre y Apellido" es obligatorio ',"","error"),!1)},compressList:function(){var t=[];return this.list.forEach(function(a){var e={id:a.id,units:a.units};t.push(e)}),t},send:function(){if(this.formValid()){var t=this.formData;t.shipping?t.shipping=1:t.shipping=0;var a=this.compressList();t.list=JSON.stringify(a),t.total=this.total;var e=this;e.loading=!0,$.ajax({method:"post",data:t,url:"/cotizer/send",success:function(){e.loading=!1,swal("Enviamos tu presupuesto","Te estaremos contactando a la brevedad","success").then(function(){window.location.replace("/")})}})}}}}},"9Pno":function(t,a,e){var o=e("OYa+");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);e("rjj0")("9a0a0666",o,!0,{})},L8tx:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={computed:{list:function(){return this.$store.getters.getList},total:function(){return this.$store.getters.getTotal}},methods:{del:function(t){t.units=0}}}},OPc1:function(t,a){t.exports={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"d-flex flex-column"},[a("div",{staticClass:"p-3"},[a("cotizer-form")],1),this._v(" "),a("list"),this._v(" "),a("div",{staticClass:"col-12",staticStyle:{height:"100px"}})],1)},staticRenderFns:[]}},"OYa+":function(t,a,e){(t.exports=e("FZ+f")(!1)).push([t.i,".total[data-v-672dbcea]{max-width:300px;padding:7px;border:4px solid #d52b1e;color:#d52b1e;font-size:2rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:15%}.table .td[data-v-672dbcea]{font-size:1rem;margin-left:-2%}.form-control[data-v-672dbcea]{max-width:80px}.table-container[data-v-672dbcea]{padding:10px}@media(max-width:600px){.table-container[data-v-672dbcea]{padding:0;overflow-x:auto}.table[data-v-672dbcea]{font-size:.65rem}}",""])},SC0f:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[t.loading?e("div",{staticClass:"loader"},[e("dot-loader",{attrs:{loading:t.loading,size:"200px"}})],1):t._e(),t._v(" "),e("div",{staticClass:"d-flex flex-column mb-2"},[t._m(0),t._v(" "),e("div",[e("fa-icon",{staticClass:"text-red check",attrs:{icon:"check-square"}}),t._v(" Si queres rechequear o hacer algun cambio, debajo del formulario tenes el detalle de tu compra. ")],1),t._v(" "),e("div",[e("fa-icon",{staticClass:"text-red check",attrs:{icon:"check-square"}}),t._v(" Una vez que envíes tu pedido te llegará una copia al mail que hayas puesto en el formulario. ")],1),t._v(" "),e("div",[e("fa-icon",{staticClass:"text-red check",attrs:{icon:"check-square"}}),t._v(" Nos estaremos comunicando para confirmar tu presupuesto dentro de las 24hs. ")],1)]),t._v(" "),e("form",{staticClass:"col-12 row",attrs:{id:"form"}},[e("csrf"),t._v(" "),e("div",{staticClass:"col-12 col-lg-4 row form-group-row mb-3"},[e("div",{staticClass:"col-12 col-lg-8"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.shipping,expression:"formData.shipping"}],attrs:{type:"radio"},domProps:{value:!1,checked:t._q(t.formData.shipping,!1)},on:{change:function(a){t.$set(t.formData,"shipping",!1)}}}),t._v(" "),e("span",{staticClass:"text-secondary radioText",class:{"text-success":!t.formData.shipping},on:{click:function(a){t.formData.shipping=!1}}},[e("span",{staticClass:"fa fa-building"}),t._v(" Retiro en el local\n                 ")])])]),t._v(" "),e("div",{staticClass:"col-12 col-lg-4 row form-group-row mb-3"},[e("div",{staticClass:"col-12 col-lg-8"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.shipping,expression:"formData.shipping"}],attrs:{type:"radio"},domProps:{value:!0,checked:t._q(t.formData.shipping,!0)},on:{change:function(a){t.$set(t.formData,"shipping",!0)}}}),t._v(" "),e("span",{staticClass:"text-secondary radioText",class:{"text-success":t.formData.shipping},on:{click:function(a){t.formData.shipping=!0}}},[e("span",{staticClass:"fa fa-truck"}),t._v(" Envio por transporte\n                ")])])]),t._v(" "),e("div",{staticClass:"col-12 col-lg-6 row mt-2 "},[e("div",{staticClass:"col-12 row form-group-row"},[e("label",{staticClass:"col-12 col-lg-4",attrs:{for:""}},[t._v("\n                        Nombre y Apellido     \n                    ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.name,expression:"formData.name"}],staticClass:"form-control col-12 col-lg-8",attrs:{required:"",type:"text"},domProps:{value:t.formData.name},on:{input:function(a){a.target.composing||t.$set(t.formData,"name",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-12 row form-group-row mt-2 "},[e("label",{staticClass:"col-12 col-lg-4",attrs:{for:""}},[t._v("Email")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.email,expression:"formData.email"}],staticClass:"form-control col-12 col-lg-8",attrs:{required:"",type:"email"},domProps:{value:t.formData.email},on:{input:function(a){a.target.composing||t.$set(t.formData,"email",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-12 row form-group-row mt-2 "},[e("label",{staticClass:"col-12 col-lg-4",attrs:{for:""}},[t._v("Telefono")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.phone,expression:"formData.phone"}],staticClass:"form-control col-12 col-lg-8",attrs:{type:"text"},domProps:{value:t.formData.phone},on:{input:function(a){a.target.composing||t.$set(t.formData,"phone",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-12 row form-group-row mt-2 "},[e("label",{staticClass:"col-12 col-lg-4",attrs:{for:""}},[t._v("Mensaje")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.message,expression:"formData.message"}],staticClass:"form-control col-12 col-lg-8",attrs:{name:"msg"},domProps:{value:t.formData.message},on:{input:function(a){a.target.composing||t.$set(t.formData,"message",a.target.value)}}})])]),t._v(" "),t.formData.shipping?e("div",{staticClass:"col-12 col-lg-6 row"},[e("div",{staticClass:"col-12 row form-group-row mt-2"},[e("label",{staticClass:"col-12 col-lg-4"},[t._v(" Provincia ")]),t._v(" "),t.states.length>0?e("select",{directives:[{name:"model",rawName:"v-model",value:t.state,expression:"state"}],staticClass:"form-control col-12 col-lg-8",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.state=a.target.multiple?e:e[0]}}},t._l(t.states,function(a){return e("option",{key:a.id,domProps:{value:a}},[t._v(" \n                            "+t._s(a.name)+"\n                        ")])})):t._e()]),t._v(" "),e("div",{staticClass:"col-12 row form-group-row mt-2"},[e("label",{staticClass:"col-12 col-lg-4",attrs:{for:""}},[t._v(" Ciudad ")]),t._v(" "),t.state?e("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.city,expression:"formData.city"}],staticClass:"form-control col-12 col-lg-8",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.formData,"city",a.target.multiple?e:e[0])}}},t._l(t.state.cities,function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" \n                            "+t._s(a.name)+"\n                        ")])})):t._e()]),t._v(" "),e("div",{staticClass:"col-12 row form-group-row mt-2"},[e("label",{staticClass:"col-12 col-lg-4",attrs:{for:""}},[t._v(" Direccion ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.address,expression:"formData.address"}],staticClass:"form-control col-12 col-lg-8",attrs:{type:"text"},domProps:{value:t.formData.address},on:{input:function(a){a.target.composing||t.$set(t.formData,"address",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-12 row form-group-row mt-2"},[e("label",{staticClass:"col-12 col-lg-4",attrs:{for:""}},[t._v(" Transporte ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.transport,expression:"formData.transport"}],staticClass:"form-control col-12 col-lg-8",attrs:{type:"text"},domProps:{value:t.formData.transport},on:{input:function(a){a.target.composing||t.$set(t.formData,"transport",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-12 row form-group-row mt-2"},[e("label",{staticClass:"col-12 col-lg-4",attrs:{for:""}},[t._v(" Codigo Postal ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.cp,expression:"formData.cp"}],staticClass:"form-control col-12 col-lg-8",attrs:{type:"text"},domProps:{value:t.formData.cp},on:{input:function(a){a.target.composing||t.$set(t.formData,"cp",a.target.value)}}})])]):e("div",{staticClass:"col-12 col-lg-6"}),t._v(" "),t._m(1),t._v(" "),e("div",{staticClass:"col-12 row"},[e("div",{staticClass:"btn btn-lg btn-outline-danger col-12 col-lg-4 mt-2",on:{click:t.send}},[e("fa-icon",{staticClass:"mb-1 mr-2",attrs:{icon:"envelope"}}),t._v(" Enviar mi pedido ")],1),t._v(" "),e("router-link",{staticClass:"ml-lg-4 offset-lg-1 btn btn-lg btn-outline-secondary col-12 col-lg-4 mt-2",attrs:{to:"/cotizador"}},[e("fa-icon",{staticClass:"mb-1 mr-2",attrs:{icon:"arrow-left"}}),t._v(" Volver al cotizador ")],1)],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("h5",[a("b",[this._v("Termine mi pedido!")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-12 mt-2 mb-2"},[a("span",{staticClass:"alert text-danger"},[this._v("* Por favor revise que sus datos de contacto sean correctos antes de enviar el formulario.")])])}]}},WFHB:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.list&&t.list.length>0?e("div",{staticClass:"mt-5 p-lg-4"},[e("h5",[t._v("Detalle de tu pedido:")]),t._v(" "),e("div",{staticClass:"table-container"},[e("table",{staticClass:"table table-striped"},[t._m(0),t._v(" "),e("tbody",t._l(t.list,function(a){return e("tr",{key:a.id},[e("td",[t._v(" "+t._s(a.code)+" ")]),t._v(" "),e("td",[t._v(" "+t._s(a.name)+" ")]),t._v(" "),e("td",[e("input",{directives:[{name:"model",rawName:"v-model.lazy",value:a.units,expression:"product.units",modifiers:{lazy:!0}}],staticClass:"form-control",staticStyle:{width:"100px"},attrs:{type:"number"},domProps:{value:a.units},on:{change:function(e){t.$set(a,"units",e.target.value)}}})]),t._v(" "),a.units<a.pck_units?e("td",[t._v(" $"+t._s(t._f("price")(a.price*a.units))+" ")]):e("td",[t._v(" $"+t._s(t._f("price")(a.pck_price*a.units))+" ")]),t._v(" "),e("td",[e("button",{staticClass:"btn btn-sm btn-outline-danger",on:{click:function(e){t.del(a)}}},[e("fa-icon",{attrs:{icon:"times"}})],1)])])}))])]),t._v(" "),t.total?e("div",{staticClass:"total"},[t._v("\n       TOTAL $"+t._s(t._f("price")(t.total))+"\n    ")]):t._e()]):t._e()},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",[t._v("Codigo")]),t._v(" "),e("th",[t._v("Producto")]),t._v(" "),e("th",[t._v("Unidades")]),t._v(" "),e("th",[t._v("Subtotal")]),t._v(" "),e("th",[t._v("-")])])}]}},gSBe:function(t,a,e){var o=e("h3gc");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);e("rjj0")("0cfec3e4",o,!0,{})},h3gc:function(t,a,e){(t.exports=e("FZ+f")(!1)).push([t.i,".loader[data-v-ac11488e]{position:fixed;height:100%;width:100%;z-index:110;background-color:#ddddddaa;left:0;top:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:start;-ms-flex-align:start;align-items:start;padding-top:5%}input[type=radio][data-v-ac11488e]{-webkit-appearance:checkbox;-moz-appearance:checkbox;-ms-appearance:checkbox;-ms-transform:scale(2);-moz-transform:scale(2);-webkit-transform:scale(2);-o-transform:scale(2);padding:10px;margin-right:15px}.radioText[data-v-ac11488e]{font-size:1.2rem}.text-red[data-v-ac11488e]{color:#d52b1e}.check[data-v-ac11488e]{font-size:1.5rem;margin-bottom:5px}",""])},lMW5:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=e("uX95"),s=e.n(o),i=e("rR3y"),r=e.n(i),n=e("tqfH");a.default={mixins:[n.a],name:"carrito",components:{cotizerForm:s.a,list:r.a}}},rR3y:function(t,a,e){var o=e("VU/8")(e("L8tx"),e("WFHB"),!1,function(t){e("9Pno")},"data-v-672dbcea",null);t.exports=o.exports},tqfH:function(t,a,e){"use strict";a.a={metaInfo:function(){return{title:this.metatitle,meta:[{name:"description",content:this.metadescription}]}},computed:{metadata:function(){var t=this.$store.getters.getMeta,a=this.$route.name;if(t)return t.find(function(t){return t.page==a})},metatitle:function(){if(this.metadata)return this.metadata.metatitle?this.metadata.metatitle:"Bazar Mayorista Maju"},metadescription:function(){if(this.metadata)return this.metadata.metadescription?this.metadata.metadescription:"Bazar Mayorista Maju"},description:function(){if(this.metadata)return this.metadata.description}}}},uX95:function(t,a,e){var o=e("VU/8")(e("8ytn"),e("SC0f"),!1,function(t){e("gSBe")},"data-v-ac11488e",null);t.exports=o.exports},uxXo:function(t,a,e){var o=e("VU/8")(e("lMW5"),e("OPc1"),!1,null,null,null);t.exports=o.exports}});
webpackJsonp([9],{"FR+e":function(t,e,i){var s=i("VU/8")(i("FvDP"),i("VE+e"),!1,function(t){i("nNs6")},"data-v-378c0ec1",null);t.exports=s.exports},FvDP:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{selected:0,shoNewSlidePannel:!1,slides:[],fileSelected:!1,newSlide:{url:"",alt:"",slider:"home"}}},created:function(){this.refresh()},computed:{valid:function(){return this.fileSelected&&this.newSlide.url&&this.newSlide.alt}},watch:{selected:function(){this.selected<0?this.selected=this.slides.length-1:this.slides[this.selected]||(this.selected=0)}},methods:{refresh:function(){var t=this;this.selected=0,this.$http.get("/api/slides").then(function(e){t.slides=e.data})},send:function(){var t=this;if(this.valid){var e=new FormData,i=this.$refs.file.files[0];e.append("image",i),e.append("url",this.newSlide.url),e.append("alt",this.newSlide.alt),e.append("slider",this.newSlide.slider),this.$http.post("/admin/slider",e).then(function(e){t.refresh(),t.selected=t.slides.length-1})}}}}},G0Za:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,".img-container[data-v-378c0ec1]{padding:10px;border:1px solid #ccc;position:relative;overflow:hidden}.img-container img[data-v-378c0ec1]{width:100%}.img-container .delete-button[data-v-378c0ec1]{position:absolute;bottom:10px;left:45%}.img-container .controls[data-v-378c0ec1]{position:absolute;top:50%;left:0;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}",""])},QgQu:function(t,e,i){var s=i("VU/8")(i("dwgF"),i("sDPC"),!1,null,null,null);t.exports=s.exports},"VE+e":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mt-4 p-4"},[i("h2",[t._v("Slider")]),t._v(" "),this.slides&&this.slides[this.selected]?i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 col-lg-6 offset-lg-2 img-container"},[i("transition",{attrs:{"leave-active-class":"animated slideOutRight position-absolute"}},[i("img",{key:t.slides[this.selected].id,attrs:{src:t.slides[this.selected].image}})]),t._v(" "),i("button",{staticClass:"btn btn-danger delete-button"},[i("fa-icon",{attrs:{icon:"times"}})],1),t._v(" "),i("div",{staticClass:"controls"},[i("button",{staticClass:"btn btn-info",on:{click:function(e){t.selected--}}},[i("fa-icon",{attrs:{icon:"chevron-left"}})],1),t._v(" "),i("button",{staticClass:"btn btn-info",on:{click:function(e){t.selected++}}},[i("fa-icon",{attrs:{icon:"chevron-right"}})],1)])],1),t._v(" "),i("div",{staticClass:"col-12 "},[i("label",{staticClass:"col-6 col-lg-2"},[t._v("Leyenda")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.slides[t.selected].alt,expression:"slides[selected].alt"}],attrs:{rows:"2",type:"text"},domProps:{value:t.slides[t.selected].alt},on:{input:function(e){e.target.composing||t.$set(t.slides[t.selected],"alt",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"col-12"},[i("label",{staticClass:"col-6 col-lg-2",attrs:{for:""}},[t._v("URL destino")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.slides[t.selected].url,expression:"slides[selected].url"}],attrs:{type:"text"},domProps:{value:t.slides[t.selected].url},on:{input:function(e){e.target.composing||t.$set(t.slides[t.selected],"url",e.target.value)}}})])]):t._e(),t._v(" "),i("button",{staticClass:"mt-4 btn btn-outline-info",on:{click:function(e){t.shoNewSlidePannel=!t.shoNewSlidePannel}}},[t._v("Nueva Slide")]),t._v(" "),t.shoNewSlidePannel?i("div",{staticClass:"form row"},[i("div",{staticClass:"col-12"},[i("label",{staticClass:"col-6"},[t._v("Url destino")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.newSlide.url,expression:"newSlide.url"}],staticClass:"col-6",attrs:{type:"text"},domProps:{value:t.newSlide.url},on:{input:function(e){e.target.composing||t.$set(t.newSlide,"url",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"col-12"},[i("label",{staticClass:"col-6",attrs:{for:""}},[t._v(" Alt ")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newSlide.alt,expression:"newSlide.alt"}],staticClass:"col-6",attrs:{rows:"2",type:"text"},domProps:{value:t.newSlide.alt},on:{input:function(e){e.target.composing||t.$set(t.newSlide,"alt",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"col-12"},[i("label",{staticClass:"btn btn-block btn-outline-info btn-file"},[t._v("\n                Cargar imagen "),i("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:function(e){t.fileSelected=!0}}})]),t._v(" "),t.fileSelected?i("span",[t._v(" Imagen subida ")]):t._e()]),t._v(" "),i("div",{staticClass:"col-12"},[t.valid?i("button",{staticClass:"btn btn-outline-info",on:{click:t.send}},[t._v("\n                Guardar\n            ")]):t._e()])]):t._e()])},staticRenderFns:[]}},dwgF:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("FR+e"),n=i.n(s);e.default={metaInfo:function(){return{title:"ADMIN"}},components:{adminSlider:n.a},data:function(){return{catalogosubido:!1,csrf:window.csrf}},computed:{configs:function(){return this.$store.getters.getConfig}},methods:{toggleMaintenance:function(){var t=this,e={field:"maintenance",value:this.configs.maintenance?0:1};this.$http.put("/admin/config",e).then(function(e){t.$store.dispatch("fetchConfig")})},job:function(t){this.$http.get("/admin/"+t).then(function(t){swal("Procedimiento puesto en cola","Los cambios seran visibles en unos minutos","success")})},updateconfig:function(t){var e={field:t,value:this.configs[t]};this.$http.put("/admin/config",e)}}}},nNs6:function(t,e,i){var s=i("G0Za");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);i("rjj0")("197d126e",s,!0,{})},sDPC:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 mt-4"},[i("button",{staticClass:"btn btn-outline-info",on:{click:function(e){t.job("prices-list-job")}}},[t._v("  \n            Refrescar Lista de Precios\n        ")]),t._v(" "),i("button",{staticClass:"btn btn-outline-warning",on:{click:function(e){t.job("catalogo-job")}}},[t._v("  \n            Refrescar Catalogo Digital\n        ")])]),t._v(" "),t.configs?i("div",{staticClass:"col-12 row"},[i("div",{staticClass:"col-12 mt-2"},[t._v("\n            compra minima local: \n            "),i("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.configs.minbuy,expression:"configs.minbuy",modifiers:{lazy:!0}}],attrs:{type:"number"},domProps:{value:t.configs.minbuy},on:{change:[function(e){t.$set(t.configs,"minbuy",e.target.value)},function(e){t.updateconfig("minbuy")}]}})]),t._v(" "),i("div",{staticClass:"col-12 mt-2"},[t._v("\n            compra minima envios: \n            "),i("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.configs.minbuy_ship,expression:"configs.minbuy_ship",modifiers:{lazy:!0}}],attrs:{type:"number"},domProps:{value:t.configs.minbuy_ship},on:{change:[function(e){t.$set(t.configs,"minbuy_ship",e.target.value)},function(e){t.updateconfig("minbuy_ship")}]}})])]):t._e(),t._v(" "),i("hr"),t._v(" "),i("div",{staticClass:"col-12 row"},[i("div",{staticClass:"col-12 mt-4"},[t.configs&&!t.configs.maintenance?i("button",{staticClass:"btn btn-outline-danger",on:{click:t.toggleMaintenance}},[t._v("Ocultar precios")]):t._e(),t._v(" "),t.configs&&t.configs.maintenance?i("button",{staticClass:"btn btn-outline-success",on:{click:t.toggleMaintenance}},[t._v("Mostrar precios")]):t._e()])]),t._v(" "),i("div",{staticClass:"mt-4 p-2"},[i("form",{attrs:{method:"post",action:"/admin/replace-catalogo",enctype:"multipart/form-data"}},[i("input",{attrs:{type:"hidden",name:"_token"},domProps:{value:t.csrf}}),t._v(" "),i("label",{staticClass:"btn btn-md btn-outline-info mt-3"},[t._v("Subir catalogo comprimido\n                "),i("input",{staticStyle:{display:"none"},attrs:{type:"file",name:"catalogo"},on:{change:function(e){t.catalogosubido=!0}}})]),t._v(" "),t.catalogosubido?i("button",{staticClass:"btn btn-outline-success",attrs:{type:"submit"}},[t._v("Guardar")]):t._e()])])])},staticRenderFns:[]}}});